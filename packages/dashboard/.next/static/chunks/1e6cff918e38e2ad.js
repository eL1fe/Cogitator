(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19057,(e,a,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return t}});let t=e=>{}},65482,e=>{"use strict";var a=e.i(61616),s=e.i(40390);function t({className:e,variant:t="default",...l}){return(0,a.jsx)("div",{className:(0,s.cn)("animate-pulse bg-bg-elevated",{"rounded-lg":"default"===t,"rounded-full":"circular"===t,"rounded h-4":"text"===t},e),...l})}e.s(["Skeleton",()=>t])},3355,e=>{"use strict";let a=(0,e.i(66310).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>a],3355)},59708,e=>{"use strict";let a=(0,e.i(66310).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>a],59708)},75857,e=>{"use strict";let a=(0,e.i(66310).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>a],75857)},28229,e=>{"use strict";let a=(0,e.i(66310).default)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);e.s(["Server",()=>a],28229)},25192,e=>{"use strict";let a=(0,e.i(66310).default)("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);e.s(["Cloud",()=>a],25192)},24747,e=>{"use strict";var a=e.i(61616),s=e.i(16727),t=e.i(38356),l=e.i(81202),i=e.i(15166),r=e.i(52910),n=e.i(79852),c=e.i(1468),d=e.i(65482),o=e.i(66310);let m=(0,o.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),x=(0,o.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var h=e.i(59708),y=e.i(3355),p=e.i(28229),u=e.i(25192);let j=(0,o.default)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var f=e.i(75857);let v=(0,o.default)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);var g=e.i(47764);function N(){let[e,o]=(0,s.useState)(null),[N,b]=(0,s.useState)(!0),[w,k]=(0,s.useState)({}),[C,S]=(0,s.useState)(null),[O,A]=(0,s.useState)(!1),[M,P]=(0,s.useState)({openai:"",anthropic:"",google:""}),[z,I]=(0,s.useState)(!1),T=(0,s.useCallback)(async()=>{try{let e=await fetch("/api/models");if(e.ok){let a=await e.json();o(a)}}catch(e){console.error("Failed to fetch models:",e)}finally{b(!1)}},[]);(0,s.useEffect)(()=>{T()},[T]);let B=async e=>{k(a=>({...a,[e]:{status:"Starting..."}}));try{let a=await fetch("/api/models/pull",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!a.ok||!a.body)throw Error("Failed to pull model");let s=a.body.getReader(),t=new TextDecoder;for(;;){let{done:a,value:l}=await s.read();if(a)break;for(let a of t.decode(l).split("\n").filter(Boolean))if(a.startsWith("data: "))try{let s=JSON.parse(a.slice(6));"done"===s.status?(k(a=>{let s={...a};return delete s[e],s}),T()):k(a=>({...a,[e]:s}))}catch{}}}catch(a){console.error("Failed to pull model:",a),k(a=>{let s={...a};return delete s[e],s})}},D=async e=>{if(confirm(`Delete model "${e}"? This cannot be undone.`)){S(e);try{(await fetch("/api/models/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})})).ok&&T()}catch(e){console.error("Failed to delete model:",e)}finally{S(null)}}},R=async()=>{I(!0);try{(await fetch("/api/models",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"save_api_keys",...M})})).ok&&(T(),P({openai:"",anthropic:"",google:""}),A(!1))}catch(e){console.error("Failed to save API keys:",e)}finally{I(!1)}};return(0,a.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,a.jsx)(t.Sidebar,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,a.jsx)(l.Header,{}),(0,a.jsx)("main",{className:"flex-1 overflow-auto p-6 bg-bg-primary bg-noise",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between animate-fade-in",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-text-primary",children:"Models"}),(0,a.jsx)("p",{className:"text-text-secondary mt-1",children:"Manage local and cloud AI models"})]}),(0,a.jsxs)(r.Button,{variant:"ghost",size:"sm",onClick:()=>{b(!0),T()},className:"gap-2",children:[(0,a.jsx)(f.RefreshCw,{className:`w-4 h-4 ${N?"animate-spin":""}`}),"Refresh"]})]}),(0,a.jsx)(i.Card,{className:"animate-fade-in",style:{animationDelay:"100ms"},children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:`p-3 rounded-xl ${e?.ollama.available?"bg-success/10":"bg-error/10"}`,children:(0,a.jsx)(p.Server,{className:`w-6 h-6 ${e?.ollama.available?"text-success":"text-error"}`})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-text-primary",children:"Ollama"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:e?.ollama.available?`Running v${e.ollama.version}`:"Not connected"})]})]}),(0,a.jsx)(n.Badge,{variant:e?.ollama.available?"success":"error",children:e?.ollama.available?"Online":"Offline"})]})}),(0,a.jsxs)(i.Card,{className:"animate-fade-in",style:{animationDelay:"150ms"},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-text-primary flex items-center gap-2",children:[(0,a.jsx)(v,{className:"w-5 h-5"}),"Downloaded Models"]}),(0,a.jsxs)("span",{className:"text-sm text-text-muted",children:[e?.ollama.models.length||0," models"]})]}),N?(0,a.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-3",children:[(0,a.jsx)(d.Skeleton,{className:"h-10 w-10 rounded-lg"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)(d.Skeleton,{className:"h-4 w-48"}),(0,a.jsx)(d.Skeleton,{className:"h-3 w-32"})]}),(0,a.jsx)(d.Skeleton,{className:"h-8 w-20"})]},s))}):e?.ollama.available?0===e.ollama.models.length?(0,a.jsxs)("div",{className:"py-8 text-center text-text-muted",children:[(0,a.jsx)(g.Cpu,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"No models downloaded"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Download a model from the list below"})]}):(0,a.jsx)("div",{className:"space-y-2",children:e.ollama.models.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-bg-tertiary",children:[(0,a.jsx)("div",{className:"p-2 bg-accent/10 rounded-lg",children:(0,a.jsx)(g.Cpu,{className:"w-5 h-5 text-accent"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-text-primary",children:e.displayName}),(0,a.jsxs)("p",{className:"text-sm text-text-secondary",children:[e.parameterSize," • ",e.sizeFormatted," • ",e.quantization]})]}),(0,a.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>D(e.name),disabled:C===e.name,className:"text-error hover:bg-error/10",children:C===e.name?(0,a.jsx)(f.RefreshCw,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(x,{className:"w-4 h-4"})})]},e.name))}):(0,a.jsxs)("div",{className:"py-8 text-center text-text-muted",children:[(0,a.jsx)(y.AlertCircle,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"Ollama is not running"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Start Ollama to manage local models"})]})]}),(0,a.jsxs)(i.Card,{className:"animate-fade-in",style:{animationDelay:"200ms"},children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("h3",{className:"text-lg font-medium text-text-primary flex items-center gap-2",children:[(0,a.jsx)(m,{className:"w-5 h-5"}),"Available Models"]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e?.available.map(s=>{let t=w[s.name],l=!!t;return(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-border-primary",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-text-primary text-sm",children:s.name}),(0,a.jsx)("p",{className:"text-xs text-text-muted truncate",children:s.description}),(0,a.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:s.size})]}),l?(0,a.jsxs)("div",{className:"w-32",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,a.jsx)("span",{className:"text-text-muted truncate",children:t.status}),void 0!==t.percent&&(0,a.jsxs)("span",{className:"text-accent",children:[t.percent,"%"]})]}),(0,a.jsx)("div",{className:"h-1.5 bg-bg-tertiary rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${t.percent||0}%`}})})]}):s.isDownloaded?(0,a.jsxs)(n.Badge,{variant:"success",size:"sm",className:"gap-1",children:[(0,a.jsx)(h.Check,{className:"w-3 h-3"}),"Installed"]}):(0,a.jsxs)(r.Button,{variant:"primary",size:"sm",onClick:()=>B(s.name),disabled:!e?.ollama.available,className:"gap-1",children:[(0,a.jsx)(m,{className:"w-3 h-3"}),"Pull"]})]},s.name)})})]}),(0,a.jsxs)(i.Card,{className:"animate-fade-in",style:{animationDelay:"250ms"},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-text-primary flex items-center gap-2",children:[(0,a.jsx)(u.Cloud,{className:"w-5 h-5"}),"Cloud Providers"]}),(0,a.jsxs)(r.Button,{variant:"ghost",size:"sm",onClick:()=>A(!O),className:"gap-2",children:[(0,a.jsx)(j,{className:"w-4 h-4"}),O?"Hide":"Configure"," API Keys"]})]}),O&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-bg-tertiary rounded-lg space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-1",children:"OpenAI API Key"}),(0,a.jsx)(c.Input,{type:"password",placeholder:"sk-...",value:M.openai,onChange:e=>P(a=>({...a,openai:e.target.value}))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-1",children:"Anthropic API Key"}),(0,a.jsx)(c.Input,{type:"password",placeholder:"sk-ant-...",value:M.anthropic,onChange:e=>P(a=>({...a,anthropic:e.target.value}))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-1",children:"Google API Key"}),(0,a.jsx)(c.Input,{type:"password",placeholder:"AIza...",value:M.google,onChange:e=>P(a=>({...a,google:e.target.value}))})]}),(0,a.jsx)(r.Button,{variant:"primary",onClick:R,disabled:z,className:"w-full",children:z?"Saving...":"Save API Keys"})]}),(0,a.jsx)("div",{className:"space-y-3",children:e?.cloud.map(e=>(0,a.jsx)("div",{className:"flex items-center gap-4 p-3 rounded-lg border border-border-primary",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"font-medium text-text-primary",children:e.name}),(0,a.jsx)(n.Badge,{variant:e.configured?"success":"outline",size:"sm",children:e.configured?"Configured":"Not configured"})]}),(0,a.jsx)("p",{className:"text-sm text-text-muted mt-1",children:e.models.join(", ")})]})},e.id))})]})]})})]})]})}e.s(["default",()=>N],24747)}]);