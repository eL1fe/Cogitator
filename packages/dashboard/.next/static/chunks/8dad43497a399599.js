(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19057,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},65482,e=>{"use strict";var t=e.i(61616),s=e.i(40390);function a({className:e,variant:a="default",...r}){return(0,t.jsx)("div",{className:(0,s.cn)("animate-pulse bg-bg-elevated",{"rounded-lg":"default"===a,"rounded-full":"circular"===a,"rounded h-4":"text"===a},e),...r})}e.s(["Skeleton",()=>a])},3355,e=>{"use strict";let t=(0,e.i(66310).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],3355)},59708,e=>{"use strict";let t=(0,e.i(66310).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],59708)},96469,e=>{"use strict";let t=(0,e.i(66310).default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["RotateCcw",()=>t],96469)},98993,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let a=e.r(86182);function r({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new a.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},67247,(e,t,s)=>{"use strict";function a(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"encodeURIPath",{enumerable:!0,get:function(){return a}})},80979,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadChunks",{enumerable:!0,get:function(){return o}});let a=e.r(61616),r=e.r(99644),l=e.r(7186),n=e.r(67247),i=e.r(40065);function o({moduleIds:e}){if("undefined"!=typeof window)return null;let t=l.workAsyncStorage.getStore();if(void 0===t)return null;let s=[];if(t.reactLoadableManifest&&e){let a=t.reactLoadableManifest;for(let t of e){if(!a[t])continue;let e=a[t].files;s.push(...e)}}if(0===s.length)return null;let o=(0,i.getDeploymentIdQueryOrEmptyString)();return(0,a.jsx)(a.Fragment,{children:s.map(e=>{let s=`${t.assetPrefix}/_next/${(0,n.encodeURIPath)(e)}${o}`;return e.endsWith(".css")?(0,a.jsx)("link",{precedence:"dynamic",href:s,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,r.preload)(s,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},42197,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return d}});let a=e.r(61616),r=e.r(16727),l=e.r(98993),n=e.r(80979);function i(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},s=(0,r.lazy)(()=>t.loader().then(i)),d=t.loading;function u(e){let i=d?(0,a.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,u=o?r.Suspense:r.Fragment,c=t.ssr?(0,a.jsxs)(a.Fragment,{children:["undefined"==typeof window?(0,a.jsx)(n.PreloadChunks,{moduleIds:t.modules}):null,(0,a.jsx)(s,{...e})]}):(0,a.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(s,{...e})});return(0,a.jsx)(u,{...o?{fallback:i}:{},children:c})}return u.displayName="LoadableComponent",u}},11113,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return r}});let a=e.r(81258)._(e.r(42197));function r(e,t){let s={};"function"==typeof e&&(s.loader=e);let r={...s,...t};return(0,a.default)({...r,modules:r.loadableGenerated?.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),t.exports=s.default)},5832,e=>{"use strict";var t=e.i(61616),s=e.i(16727),a=e.i(38356),r=e.i(81202),l=e.i(15166),n=e.i(52910),i=e.i(79852),o=e.i(65482);let d=(0,e.i(66310).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var u=e.i(96469),c=e.i(59708),m=e.i(3355),p=e.i(75177);let f=(0,e.i(11113).default)(()=>e.A(25581),{loadableGenerated:{modules:[69416]},ssr:!1,loading:()=>(0,t.jsx)(o.Skeleton,{className:"h-96 w-full"})}),x=`# Cogitator Configuration
llm:
  provider: openai
  model: gpt-4o-mini
  temperature: 0.7
  maxTokens: 4096

memory:
  adapter: postgres
  postgres:
    url: postgresql://cogitator:cogitator@localhost:5432/cogitator

sandbox:
  enabled: false
  type: docker
  timeout: 30000

limits:
  maxTurns: 10
  maxTokens: 100000
  maxCost: 1.0
`;function h(){let[e,h]=(0,s.useState)(null),[y,g]=(0,s.useState)(x),[j,b]=(0,s.useState)(!0),[v,k]=(0,s.useState)(!1),[C,N]=(0,s.useState)(null),[w,S]=(0,s.useState)(!1),[T,P]=(0,s.useState)(!1),O=(0,s.useRef)(x);(0,s.useEffect)(()=>{!async function(){try{let e=await fetch("/api/config");if(e.ok){let t=await e.json();h(t);let s=function(e){if(!e)return x;let t=["# Cogitator Configuration"];return t.push("llm:"),t.push(`  provider: ${e.llm.provider}`),t.push(`  model: ${e.llm.model}`),void 0!==e.llm.temperature&&t.push(`  temperature: ${e.llm.temperature}`),void 0!==e.llm.maxTokens&&t.push(`  maxTokens: ${e.llm.maxTokens}`),e.memory&&(t.push(""),t.push("memory:"),t.push(`  adapter: ${e.memory.adapter}`),e.memory.postgres?.url&&(t.push("  postgres:"),t.push(`    url: ${e.memory.postgres.url}`)),e.memory.redis?.url&&(t.push("  redis:"),t.push(`    url: ${e.memory.redis.url}`))),e.sandbox&&(t.push(""),t.push("sandbox:"),t.push(`  enabled: ${e.sandbox.enabled}`),t.push(`  type: ${e.sandbox.type}`),void 0!==e.sandbox.timeout&&t.push(`  timeout: ${e.sandbox.timeout}`)),e.limits&&(t.push(""),t.push("limits:"),void 0!==e.limits.maxTurns&&t.push(`  maxTurns: ${e.limits.maxTurns}`),void 0!==e.limits.maxTokens&&t.push(`  maxTokens: ${e.limits.maxTokens}`),void 0!==e.limits.maxCost&&t.push(`  maxCost: ${e.limits.maxCost}`)),t.join("\n")}(t.cogitator);g(s),O.current=s}}catch(e){console.error("Failed to fetch config:",e)}finally{b(!1)}}()},[]);let _=async()=>{k(!0),N(null),S(!1);try{let e=function(e){let t={llm:{provider:"openai",model:"gpt-4o-mini"}},s=e.split("\n"),a="",r="";for(let e of s){let s=e.trim();if(!s||s.startsWith("#"))continue;let l=e.search(/\S/);if(0===l&&s.endsWith(":"))a=s.slice(0,-1),r="";else if(2===l&&s.endsWith(":"))r=s.slice(0,-1);else if(s.includes(":")){let[e,...l]=s.split(":"),n=l.join(":").trim();"llm"===a?"provider"===e?t.llm.provider=n:"model"===e?t.llm.model=n:"temperature"===e?t.llm.temperature=parseFloat(n):"maxTokens"===e&&(t.llm.maxTokens=parseInt(n)):"memory"===a?(t.memory||(t.memory={adapter:"postgres"}),"adapter"===e?t.memory.adapter=n:"postgres"===r&&"url"===e?t.memory.postgres={url:n}:"redis"===r&&"url"===e&&(t.memory.redis={url:n})):"sandbox"===a?(t.sandbox||(t.sandbox={enabled:!1,type:"docker"}),"enabled"===e?t.sandbox.enabled="true"===n:"type"===e?t.sandbox.type=n:"timeout"===e&&(t.sandbox.timeout=parseInt(n))):"limits"===a&&(t.limits||(t.limits={}),"maxTurns"===e?t.limits.maxTurns=parseInt(n):"maxTokens"===e?t.limits.maxTokens=parseInt(n):"maxCost"===e&&(t.limits.maxCost=parseFloat(n)))}}return t}(y),t=await fetch("/api/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to save config")}O.current=y,P(!1),S(!0)}catch(e){N(e instanceof Error?e.message:"Failed to save")}finally{k(!1)}};return(0,t.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,t.jsx)(a.Sidebar,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)(r.Header,{}),(0,t.jsx)("main",{className:"flex-1 overflow-auto p-6 bg-bg-primary bg-noise",children:(0,t.jsxs)("div",{className:"max-w-5xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between animate-fade-in",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-text-primary",children:"Configuration"}),(0,t.jsx)("p",{className:"text-text-secondary mt-1",children:"Edit Cogitator runtime settings"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[T&&(0,t.jsxs)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{g(O.current),P(!1),N(null),S(!1)},className:"gap-2",children:[(0,t.jsx)(u.RotateCcw,{className:"w-4 h-4"}),"Reset"]}),(0,t.jsx)(n.Button,{variant:"primary",size:"sm",onClick:_,disabled:v||!T,className:"gap-2",children:v?(0,t.jsx)(t.Fragment,{children:"Saving..."}):w?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Check,{className:"w-4 h-4"}),"Saved"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d,{className:"w-4 h-4"}),"Save"]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2 animate-fade-in",style:{animationDelay:"100ms"},children:(0,t.jsxs)(l.Card,{className:"p-0 overflow-hidden",children:[(0,t.jsxs)("div",{className:"border-b border-border-primary p-3 flex items-center justify-between bg-bg-secondary",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-text-secondary",children:"cogitator.yaml"}),C&&(0,t.jsxs)(i.Badge,{variant:"error",size:"sm",className:"gap-1",children:[(0,t.jsx)(m.AlertCircle,{className:"w-3 h-3"}),C]}),T&&!C&&(0,t.jsx)(i.Badge,{variant:"warning",size:"sm",children:"Unsaved changes"})]}),j?(0,t.jsx)(o.Skeleton,{className:"h-96 w-full"}):(0,t.jsx)(f,{height:"500px",language:"yaml",theme:"vs-dark",value:y,onChange:e=>{void 0!==e&&(g(e),P(e!==O.current),N(null),S(!1))},options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on",tabSize:2,padding:{top:16}}})]})}),(0,t.jsxs)("div",{className:"space-y-4 animate-fade-in",style:{animationDelay:"200ms"},children:[(0,t.jsxs)(l.Card,{children:[(0,t.jsxs)("h3",{className:"text-lg font-medium text-text-primary mb-4 flex items-center gap-2",children:[(0,t.jsx)(p.Settings,{className:"w-5 h-5"}),"Environment"]}),j?(0,t.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(o.Skeleton,{className:"h-4 w-32"}),(0,t.jsx)(o.Skeleton,{className:"h-4 w-16"})]},s))}):(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(e?.environment||{}).map(([e,s])=>(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-text-secondary font-mono",children:e}),s?(0,t.jsx)(i.Badge,{variant:"success",size:"sm",children:"Set"}):(0,t.jsx)(i.Badge,{variant:"outline",size:"sm",children:"Not set"})]},e))})]}),(0,t.jsxs)(l.Card,{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-text-secondary mb-2",children:"Quick Tips"}),(0,t.jsxs)("ul",{className:"text-xs text-text-muted space-y-1.5",children:[(0,t.jsx)("li",{children:"• Use YAML format for configuration"}),(0,t.jsx)("li",{children:"• Changes require restart to take effect"}),(0,t.jsx)("li",{children:"• Set API keys in environment variables"}),(0,t.jsx)("li",{children:"• Use Ctrl+S to save quickly"})]})]})]})]})]})})]})]})}e.s(["default",()=>h],5832)},25581,e=>{e.v(t=>Promise.all(["static/chunks/e14186f61d770efa.js"].map(t=>e.l(t))).then(()=>t(69416)))}]);