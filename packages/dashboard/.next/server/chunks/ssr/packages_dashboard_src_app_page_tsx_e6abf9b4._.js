module.exports=[39312,a=>{"use strict";var b=a.i(39675),c=a.i(4092),d=a.i(65319),e=a.i(78007),f=a.i(9811),g=a.i(56641),h=a.i(80054),i=a.i(79145);let j=(0,i.default)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),k=(0,i.default)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);function l({title:a,value:c,change:d,format:e="number",icon:i,delay:l=0,loading:m=!1}){let n=void 0!==d&&d>0,o=void 0!==d&&d<0,p=0===d,q=void 0!==d;return m?(0,b.jsxs)(f.Card,{className:"animate-fade-in",style:{animationDelay:`${50*l}ms`},children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-24"}),(0,b.jsx)(g.Skeleton,{className:"h-8 w-32"})]}),(0,b.jsx)(g.Skeleton,{className:"h-10 w-10 rounded-lg"})]}),(0,b.jsx)("div",{className:"mt-3",children:(0,b.jsx)(g.Skeleton,{className:"h-4 w-20"})})]}):(0,b.jsxs)(f.Card,{className:"animate-fade-in",style:{animationDelay:`${50*l}ms`},children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-sm text-text-secondary",children:a}),(0,b.jsx)("p",{className:"text-2xl font-semibold text-text-primary animate-count",children:function(a,b){switch(b){case"currency":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a);case"compact":return new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}).format(a);default:return new Intl.NumberFormat("en-US").format(a)}}(c,e)})]}),i&&(0,b.jsx)("div",{className:"p-2 bg-accent/10 rounded-lg text-accent",children:i})]}),q&&(0,b.jsxs)("div",{className:"mt-3 flex items-center gap-1.5",children:[n&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.TrendingUp,{className:"w-4 h-4 text-success"}),(0,b.jsxs)("span",{className:"text-sm text-success",children:["+",d,"%"]})]}),o&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j,{className:"w-4 h-4 text-error"}),(0,b.jsxs)("span",{className:"text-sm text-error",children:[d,"%"]})]}),p&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k,{className:"w-4 h-4 text-text-tertiary"}),(0,b.jsx)("span",{className:"text-sm text-text-tertiary",children:"No change"})]}),(0,b.jsx)("span",{className:"text-xs text-text-muted ml-1",children:"vs last week"})]})]})}var m=a.i(8578),n=a.i(70730),o=a.i(57326),p=a.i(1194),q=a.i(87469),r=a.i(97938),s=a.i(40199),t=a.i(73608),u=a.i(50464);function v({data:a,loading:c}){let d=a?.map(a=>({time:(0,t.format)((0,u.parseISO)(a.hour),"HH:mm"),runs:a.runs,tokens:Math.round(a.tokens/1e3)}))||[];return c?(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(g.Skeleton,{className:"h-5 w-32"}),(0,b.jsx)(g.Skeleton,{className:"h-8 w-24"})]}),(0,b.jsx)(g.Skeleton,{className:"h-64 w-full"})]}):(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-text-primary",children:"Activity"}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-accent"}),(0,b.jsx)("span",{className:"text-text-secondary",children:"Runs"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),(0,b.jsx)("span",{className:"text-text-secondary",children:"Tokens (K)"})]})]})]}),(0,b.jsx)("div",{className:"h-64",children:d.length>0?(0,b.jsx)(s.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsxs)(m.AreaChart,{data:d,children:[(0,b.jsxs)("defs",{children:[(0,b.jsxs)("linearGradient",{id:"colorRuns",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,b.jsx)("stop",{offset:"5%",stopColor:"#00ff88",stopOpacity:.3}),(0,b.jsx)("stop",{offset:"95%",stopColor:"#00ff88",stopOpacity:0})]}),(0,b.jsxs)("linearGradient",{id:"colorTokens",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,b.jsx)("stop",{offset:"5%",stopColor:"#a855f7",stopOpacity:.3}),(0,b.jsx)("stop",{offset:"95%",stopColor:"#a855f7",stopOpacity:0})]})]}),(0,b.jsx)(q.CartesianGrid,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)"}),(0,b.jsx)(o.XAxis,{dataKey:"time",stroke:"#666",fontSize:12,tickLine:!1,axisLine:!1}),(0,b.jsx)(p.YAxis,{stroke:"#666",fontSize:12,tickLine:!1,axisLine:!1}),(0,b.jsx)(r.Tooltip,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px"},labelStyle:{color:"#888"}}),(0,b.jsx)(n.Area,{type:"monotone",dataKey:"runs",stroke:"#00ff88",strokeWidth:2,fillOpacity:1,fill:"url(#colorRuns)"}),(0,b.jsx)(n.Area,{type:"monotone",dataKey:"tokens",stroke:"#a855f7",strokeWidth:2,fillOpacity:1,fill:"url(#colorTokens)"})]})}):(0,b.jsx)("div",{className:"h-full flex items-center justify-center text-text-muted",children:"No activity data yet"})})]})}var w=a.i(29465),x=a.i(67301),y=a.i(5974),z=a.i(62357),A=a.i(4807),B=a.i(11087),C=a.i(15254),D=a.i(67263);let E={running:{icon:C.Loader2,variant:"info",label:"Running",iconClass:"animate-spin"},completed:{icon:z.CheckCircle,variant:"success",label:"Completed",iconClass:""},failed:{icon:A.XCircle,variant:"error",label:"Failed",iconClass:""},cancelled:{icon:B.Clock,variant:"warning",label:"Cancelled",iconClass:""}};function F(){let[a,d]=(0,c.useState)([]),[e,h]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{async function a(){try{let a=await fetch("/api/runs?limit=10");if(a.ok){let b=await a.json();d(b.runs||[])}}catch(a){console.error("Failed to fetch runs:",a)}finally{h(!1)}}a();let b=setInterval(a,1e4);return()=>clearInterval(b)},[]),e)?(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(g.Skeleton,{className:"h-5 w-32"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-16"})]}),(0,b.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3",children:[(0,b.jsx)(g.Skeleton,{className:"h-8 w-8 rounded-full"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-3/4"}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-1/2"})]}),(0,b.jsx)(g.Skeleton,{className:"h-6 w-16"})]},c))})]}):(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-text-primary",children:"Recent Runs"}),(0,b.jsx)(D.default,{href:"/runs",className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"View all"})]}),0===a.length?(0,b.jsxs)("div",{className:"py-8 text-center text-text-muted",children:[(0,b.jsx)(y.Play,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,b.jsx)("p",{children:"No runs yet"}),(0,b.jsx)("p",{className:"text-sm",children:"Start an agent to see activity here"})]}):(0,b.jsx)("div",{className:"space-y-1",children:a.map(a=>{let c=E[a.status],d=c.icon;return(0,b.jsxs)(D.default,{href:`/runs/${a.id}`,className:"flex items-center gap-3 p-3 rounded-lg hover:bg-bg-tertiary transition-colors group",children:[(0,b.jsx)("div",{className:`p-2 rounded-full ${"running"===a.status?"bg-info/10 text-info":"completed"===a.status?"bg-success/10 text-success":"failed"===a.status?"bg-error/10 text-error":"bg-warning/10 text-warning"}`,children:(0,b.jsx)(d,{className:`w-4 h-4 ${c.iconClass}`})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-text-primary truncate",children:a.agentName||a.agentId}),a.model&&(0,b.jsx)("span",{className:"text-xs text-text-muted truncate",children:a.model})]}),(0,b.jsxs)("p",{className:"text-xs text-text-secondary truncate",children:[a.input.slice(0,60),a.input.length>60?"...":""]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-right",children:[(0,b.jsxs)("div",{className:"hidden sm:block",children:[(0,b.jsxs)("p",{className:"text-xs text-text-secondary",children:[a.totalTokens.toLocaleString()," tokens"]}),(0,b.jsxs)("p",{className:"text-xs text-text-muted",children:["$",a.cost.toFixed(4)]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(w.Badge,{variant:c.variant,size:"sm",children:c.label}),(0,b.jsx)("p",{className:"text-xs text-text-muted mt-1",children:(0,x.formatDistanceToNow)(new Date(a.startedAt),{addSuffix:!0})})]})]})]},a.id)})})]})}var G=a.i(67141);let H=(0,i.default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),I={online:{label:"Online",color:"bg-success",variant:"success"},busy:{label:"Busy",color:"bg-warning",variant:"warning"},offline:{label:"Offline",color:"bg-text-muted",variant:"outline"}};function J(){let[a,d]=(0,c.useState)([]),[e,h]=(0,c.useState)(!0);if((0,c.useEffect)(()=>{async function a(){try{let a=await fetch("/api/agents");if(a.ok){let b=await a.json();d(b)}}catch(a){console.error("Failed to fetch agents:",a)}finally{h(!1)}}a();let b=setInterval(a,15e3);return()=>clearInterval(b)},[]),e)return(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(g.Skeleton,{className:"h-5 w-32"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-16"})]}),(0,b.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0].map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-3 p-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-8 w-8 rounded-full"}),(0,b.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-24"}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-16"})]}),(0,b.jsx)(g.Skeleton,{className:"h-5 w-14"})]},c))})]});let i=a.filter(a=>"offline"!==a.status),j=i.length>0?i:a.slice(0,5);return(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-text-primary",children:"Agents"}),(0,b.jsx)(D.default,{href:"/agents",className:"text-sm text-accent hover:text-accent-hover transition-colors",children:"View all"})]}),0===a.length?(0,b.jsxs)("div",{className:"py-6 text-center text-text-muted",children:[(0,b.jsx)(G.Bot,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,b.jsx)("p",{children:"No agents configured"}),(0,b.jsx)("p",{className:"text-sm",children:"Create an agent to get started"})]}):(0,b.jsx)("div",{className:"space-y-2",children:j.map(a=>{let c=I[a.status];return(0,b.jsxs)(D.default,{href:`/agents/${a.id}`,className:"flex items-center gap-3 p-2 rounded-lg hover:bg-bg-tertiary transition-colors",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-accent/10 flex items-center justify-center",children:(0,b.jsx)(G.Bot,{className:"w-4 h-4 text-accent"})}),(0,b.jsx)(H,{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 ${c.color} rounded-full fill-current`})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-text-primary truncate",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-text-muted truncate",children:a.model})]}),(0,b.jsx)(w.Badge,{variant:c.variant,size:"sm",children:c.label})]},a.id)})})]})}let K=(0,i.default)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var L=a.i(47191),M=a.i(79391);let N={up:{icon:z.CheckCircle,color:"text-success",bg:"bg-success/10"},down:{icon:A.XCircle,color:"text-error",bg:"bg-error/10"}},O={healthy:{variant:"success",label:"All systems operational"},degraded:{variant:"warning",label:"Partial outage"},unhealthy:{variant:"error",label:"System issues"}};function P(){var a;let d,e,h,[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!0);if((0,c.useEffect)(()=>{async function a(){try{let a=await fetch("/api/health");if(a.ok){let b=await a.json();j(b)}}catch(a){console.error("Failed to fetch health:",a),j({status:"unhealthy",services:{database:{status:"down"},redis:{status:"down"},ollama:{status:"down"}},uptime:0})}finally{l(!1)}}a();let b=setInterval(a,3e4);return()=>clearInterval(b)},[]),k)return(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(g.Skeleton,{className:"h-5 w-32"}),(0,b.jsx)(g.Skeleton,{className:"h-5 w-20"})]}),(0,b.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0].map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-3 p-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-8 w-8 rounded"}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)(g.Skeleton,{className:"h-4 w-20"})}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-12"})]},c))})]});let m=[{name:"PostgreSQL",key:"database",icon:K,detail:i?.services.database.latency?`${i.services.database.latency}ms`:void 0},{name:"Redis",key:"redis",icon:L.Server,detail:i?.services.redis.latency?`${i.services.redis.latency}ms`:void 0},{name:"Ollama",key:"ollama",icon:M.Cpu,detail:i?.services.ollama.models?.length?`${i.services.ollama.models.length} models`:void 0}],n=O[i?.status||"unhealthy"];return(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-text-primary",children:"System Health"}),(0,b.jsx)(w.Badge,{variant:n.variant,size:"sm",children:i?.status||"unknown"})]}),(0,b.jsx)("div",{className:"space-y-2",children:m.map(a=>{let c=i?.services[a.key],d=N[c?.status||"down"],e=d.icon,f=a.icon;return(0,b.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg",children:[(0,b.jsx)("div",{className:`p-2 rounded ${d.bg}`,children:(0,b.jsx)(f,{className:`w-4 h-4 ${d.color}`})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-text-primary",children:a.name}),a.detail&&(0,b.jsx)("p",{className:"text-xs text-text-muted",children:a.detail})]}),(0,b.jsx)(e,{className:`w-4 h-4 ${d.color}`})]},a.key)})}),i&&(0,b.jsx)("div",{className:"mt-4 pt-3 border-t border-border-primary",children:(0,b.jsxs)("p",{className:"text-xs text-text-muted text-center",children:["Uptime: ",(d=Math.floor((a=i.uptime)/86400),e=Math.floor(a%86400/3600),h=Math.floor(a%3600/60),d>0?`${d}d ${e}h`:e>0?`${e}h ${h}m`:`${h}m`)]})})]})}var Q=a.i(99863),R=a.i(45539),S=a.i(36320);function T(){let[a,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{async function a(){try{let a=await fetch("/api/analytics");if(a.ok){let b=await a.json();f({stats:b.dashboard,hourly:b.hourly})}}catch(a){console.error("Failed to fetch dashboard data:",a)}finally{h(!1)}}a();let b=setInterval(a,3e4);return()=>clearInterval(b)},[]),(0,b.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,b.jsx)(d.Sidebar,{}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,b.jsx)(e.Header,{}),(0,b.jsx)("main",{className:"flex-1 overflow-auto p-6 bg-bg-primary bg-noise",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{className:"animate-fade-in",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-text-primary",children:"Welcome back"}),(0,b.jsx)("p",{className:"text-text-secondary mt-1",children:"Here's what's happening with your agents"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)(l,{title:"Total Runs (24h)",value:a?.stats.totalRuns??0,loading:g,icon:(0,b.jsx)(Q.Activity,{className:"w-5 h-5"}),delay:0}),(0,b.jsx)(l,{title:"Tokens Used",value:a?.stats.totalTokens??0,format:"compact",loading:g,icon:(0,b.jsx)(S.Zap,{className:"w-5 h-5"}),delay:1}),(0,b.jsx)(l,{title:"Total Cost",value:a?.stats.totalCost??0,format:"currency",loading:g,icon:(0,b.jsx)(R.DollarSign,{className:"w-5 h-5"}),delay:2}),(0,b.jsx)(l,{title:"Active Agents",value:a?.stats.activeAgents??0,loading:g,icon:(0,b.jsx)(M.Cpu,{className:"w-5 h-5"}),delay:3})]}),(0,b.jsx)("div",{className:"animate-fade-in",style:{animationDelay:"200ms"},children:(0,b.jsx)(v,{data:a?.hourly,loading:g})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-2 animate-fade-in",style:{animationDelay:"300ms"},children:(0,b.jsx)(F,{})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"animate-fade-in",style:{animationDelay:"400ms"},children:(0,b.jsx)(J,{})}),(0,b.jsx)("div",{className:"animate-fade-in",style:{animationDelay:"500ms"},children:(0,b.jsx)(P,{})})]})]})]})})]})]})}a.s(["default",()=>T],39312)}];

//# sourceMappingURL=packages_dashboard_src_app_page_tsx_e6abf9b4._.js.map